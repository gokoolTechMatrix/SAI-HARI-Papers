
# Sai Hari Papers ERP - Data Logic Schema

This document outlines the **data logic schema** for the Sai Hari Papers ERP System, 
derived from the Product Requirements Document (PRD).

---

## 1. Core Entities & Relationships

### Employee Management
- **Employee**
  - EmployeeID (PK)
  - Name
  - DOB
  - ContactInfo
  - IDProof
  - BankDetails
  - JoinDate
  - ResignDate
  - Status (Active/Resigned/Contract)
  - Remarks
- **Attendance**
  - AttendanceID (PK)
  - EmployeeID (FK → Employee)
  - Date
  - InTime
  - OutTime
  - AttendanceType (Biometric/Manual)
- **Salary**
  - SalaryID (PK)
  - EmployeeID (FK → Employee)
  - Month
  - HoursWorked
  - TaskUnits
  - GrossSalary
  - EMI_Deduction
  - FineDeduction
  - CanteenDeduction
  - TDS
  - NetSalary
- **EMI**
  - EMI_ID (PK)
  - EmployeeID (FK → Employee)
  - EMI_Amount
  - EMI_Cycle
  - Balance
- **IncrementHistory**
  - IncrementID (PK)
  - EmployeeID (FK → Employee)
  - EffectiveDate
  - PreviousSalary
  - NewSalary

---

### Work Order Management
- **WorkOrder**
  - WorkOrderID (PK)
  - DateCreated
  - Description
  - Status (Open/InProgress/Completed)
- **WorkOrderAssignment**
  - AssignmentID (PK)
  - WorkOrderID (FK → WorkOrder)
  - EmployeeID (FK → Employee)
  - MachineID (FK → Machine)
  - MaterialID (FK → InventoryItem)
  - ModuleStage (Printing/Folding/...)
  - InputQty
  - OutputQty
  - DamagedQty
  - FineApplied

---

### Inventory & Purchase Orders
- **InventoryItem**
  - ItemID (PK)
  - ItemName
  - Category
  - UnitOfMeasure
  - ReorderThreshold
  - OpeningStock
  - CurrentStock
- **StockTransaction**
  - TransactionID (PK)
  - ItemID (FK → InventoryItem)
  - Type (Inward/Outward)
  - Quantity
  - Date
- **PurchaseOrder**
  - PO_ID (PK)
  - VendorID (FK → Vendor)
  - DateCreated
  - Status (Open/Partial/Closed)
- **PurchaseOrderItem**
  - POItemID (PK)
  - PO_ID (FK → PurchaseOrder)
  - ItemID (FK → InventoryItem)
  - QuantityOrdered
  - QuantityReceived
- **Vendor**
  - VendorID (PK)
  - VendorName
  - ContactInfo
  - GSTIN

---

### Machine Management
- **Machine**
  - MachineID (PK)
  - MachineName
  - Location
  - Status
- **MachineServiceLog**
  - ServiceLogID (PK)
  - MachineID (FK → Machine)
  - ServiceDate
  - Description
  - PartsReplaced
- **MachineProductionLog**
  - ProductionLogID (PK)
  - MachineID (FK → Machine)
  - OperatorID (FK → Employee)
  - InputQty
  - OutputQty
  - DamagedQty
  - Downtime
  - Efficiency

---

### Delivery & Billing
- **DeliveryChallan**
  - DC_ID (PK)
  - DC_Number (AutoGenerated)
  - Date
  - ClientID (FK → Client)
  - Status (Pending/Delivered)
- **DeliveryItem**
  - DeliveryItemID (PK)
  - DC_ID (FK → DeliveryChallan)
  - ItemID (FK → InventoryItem)
  - Quantity
- **Invoice**
  - InvoiceID (PK)
  - InvoiceNumber
  - Date
  - ClientID (FK → Client)
  - TotalAmount
  - GST
  - Discount
  - NetAmount
  - Status (Unpaid/Paid)
- **InvoiceItem**
  - InvoiceItemID (PK)
  - InvoiceID (FK → Invoice)
  - WorkOrderID (FK → WorkOrder)
  - DC_ID (FK → DeliveryChallan)
  - ItemID (FK → InventoryItem)
  - Quantity
  - Rate
  - Amount
- **Client**
  - ClientID (PK)
  - ClientName
  - ContactInfo
  - TaxDetails

---

### Cash Ledger & Finance
- **CashLedger**
  - LedgerID (PK)
  - Date
  - Type (Income/Expense)
  - Amount
  - Category
  - Description
  - BalanceCarriedForward

---

### Reporting & Exports
- All modules support:
  - **ReportID, Module, DateRange, Filters, Format (Excel/PDF)**

---

## 2. Entity Relationship Highlights
- **Employee ↔ Attendance ↔ Salary**
- **Employee ↔ EMI ↔ IncrementHistory**
- **WorkOrder ↔ WorkOrderAssignment ↔ Employee/Machine/InventoryItem**
- **InventoryItem ↔ StockTransaction ↔ PurchaseOrder/Vendor**
- **Machine ↔ MachineProductionLog ↔ Employee**
- **Client ↔ DeliveryChallan ↔ Invoice**

---

## 3. Notes
- Biometric attendance integrated via device SDK (linked to EmployeeID).
- GST auto-calculated in invoices.
- Reports available in PDF/Excel with filters for Staff, Date, Category, Type.
- All financial data accessible to Admin only.

